!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Fela=t():e.Fela=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=n(o),u=r(3),a=r(2),s=n(a);t.default={Selector:i.default,render:u.render,clear:u.clear,enhanceWithPlugins:s.default},e.exports=t.default},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.composer=t,this.mediaComposer=n,this.mediaStrings=Object.keys(n)}return n(e,[{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this._resolve(t,r),o=this.mediaStrings.reduce(function(n,o){return n.set(o,e._resolve(t,r,o)),n},new Map);return{mediaStyles:o,styles:n}}},{key:"_process",value:function(e){var t=e.plugins,r=e.styles;return t.forEach(function(t){return t(e)}),r}},{key:"_resolve",value:function(e,t,r){var n=this._getComposer(r),o=n(e),i={plugins:t,process:this._process,styles:o,media:r,props:e};return this._process(i)}},{key:"_getComposer",value:function(e){return this.mediaComposer[e]?this.mediaComposer[e]:this.composer}}]),e}();t.default=o,e.exports=t.default},function(e,t){"use strict";function r(e,t){var r=e.render.bind(e);return e.render=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(e,t.concat(n))},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=n(o),u=1,a="STYLE",s=new Map;t.default={render:function(e,t,r,n){if(e.nodeType!==u||void 0===e.textContent)return console.error("You need to specify a valid element node (nodeType = 1) to render into."),!1;if(e.nodeName!==a&&console.warn("You are using a node other than `<style>`. Your styles might not get applied correctly."),!s.has(e)){var o=new i.default;o.subscribe(function(t){return e.textContent=t}),s.set(e,o)}var c=s.get(e);return c._renderSelectorVariation(t,r,n)},clear:function(e){return s.has(e)?(s.get(e).clear(),void(e.textContent="")):(console.error("You are trying to clean a node which has never been rendered to before."),!1)}},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;t.length>r;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(5),a=n(u),s=r(6),c=n(s),f=r(7),l=n(f),d=function(){function e(){o(this,e),this.listeners=new Set,this._init()}return i(e,[{key:"clear",value:function(){this._init()}},{key:"renderToString",value:function(){var e=this,t=this._renderCache(this.cache);return this.mediaCache.forEach(function(r,n){t+=e._renderMediaQuery(n,e._renderCache(r))}),t}},{key:"subscribe",value:function(e){var t=this;return this.listeners.add(e),{unsubscribe:function(){return t.listeners.delete(e)}}}},{key:"_emitChange",value:function(){var e=this.renderToString();this.listeners.forEach(function(t){return t(e)})}},{key:"_init",value:function(){this.cache=new Map,this.mediaCache=new Map,this.ids=new Map,this._counter=-1}},{key:"_renderSelectorVariation",value:function(e,t,r){var n=this;this.cache.has(e)||(this.ids.set(e,++this._counter),this.cache.set(e,new Map),e.mediaStrings.forEach(function(t){n.mediaCache.has(t)||n.mediaCache.set(t,new Map),n.mediaCache.get(t).set(e,new Map)}));var o=this.cache.get(e),i=this._generatePropsReference(t);if(!o.has(i)){var u=e.render(t,r),a=u.styles,s=u.mediaStyles;o.set(i,a),s.forEach(function(t,r){n.mediaCache.get(r).get(e).set(i,t)}),this._emitChange()}return this._renderClassName(this.ids.get(e),i)}},{key:"_generatePropsReference",value:function(e){return(0,c.default)((0,l.default)(e))}},{key:"_renderClassName",value:function(e,t){return"c"+e+"-"+t}},{key:"_renderSelector",value:function(e,t){return"."+e+"{"+(0,a.default)(t)+"}"}},{key:"_renderMediaQuery",value:function(e,t){return"@media("+e+"){"+t+"}"}},{key:"_renderCache",value:function(e){var t=this,r="";return e.forEach(function(e,n){var o=t.ids.get(n);e.forEach(function(e,n){var i=t._renderClassName(o,n);r+=t._renderSelector(i,e)})}),r}}]),e}();t.default=d,e.exports=t.default},function(e,t){"use strict";function r(e){return e.replace(/([a-z]|^)([A-Z])/g,function(e,t,r){return t+"-"+r.toLowerCase()}).replace("ms-","-ms-")}function n(e){return Object.keys(e).reduce(function(t,n){return t.length>0&&(t+=";"),t+=r(n)+":"+e[n]},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function r(e){var t=0,r=0,n=void 0,o=e.length;if(0===o)return"s";for(;o>r;++r)n=e.charCodeAt(r),t=(t<<5)-t+n,t|=0;return t.toString(36)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){"use strict";function r(e){return void 0===e?"":Object.keys(e).sort().reduce(function(t,r){return t+=r+e[r]},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default}])});