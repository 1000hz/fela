!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Fela=t():e.Fela=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),u=n(3),a=r(u),s=n(2),c=r(s);t.default={Selector:i.default,DOMRenderer:a.default,enhanceWithPlugins:c.default},e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.composer=t,this.mediaComposer=r,this.mediaStrings=Object.keys(r)}return r(e,[{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this._resolve(t,n),o=this.mediaStrings.reduce(function(r,o){return r.set(o,e._resolve(t,n,o)),r},new Map);return{mediaStyles:o,styles:r}}},{key:"_process",value:function(e){var t=e.plugins,n=e.styles;return t.forEach(function(t){return t(e)}),n}},{key:"_resolve",value:function(e,t,n){var r=this._getComposer(n),o=r(e),i={plugins:t,process:this._process,styles:o,media:n,props:e};return this._process(i)}},{key:"_getComposer",value:function(e){return this.mediaComposer[e]?this.mediaComposer[e]:this.composer}}]),e}();t.default=o,e.exports=t.default},function(e,t){"use strict";function n(e,t){var n=e.render.bind(e);return e.render=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n(e,t.concat(r))},e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),u=1,a="STYLE",s=new Map;t.default={render:function(e,t,n,r){if(e.nodeType!==u||void 0===e.textContent)return console.error("You need to specify a valid element node (nodeType = 1) to render into."),!1;if(e.nodeName!==a&&console.warn("You are using a node other than `<style>`. Your styles might not get applied correctly."),!s.has(e)){var o=new i.default;o.subscribe(function(t){return e.textContent=t}),s.set(e,o)}var c=s.get(e);return c._renderSelectorVariation(t,n,r)},clear:function(e){return s.has(e)?(s.get(e).clear(),void(e.textContent="")):(console.error("You are trying to clean a node which has never been rendered to before."),!1)}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),a=r(u),s=n(6),c=r(s),f=n(7),l=r(f),d=function(){function e(){o(this,e),this.listeners=new Set,this._init()}return i(e,[{key:"clear",value:function(){this._init()}},{key:"renderToString",value:function(){var e=this,t=this._renderCache(this.cache);return this.mediaCache.forEach(function(n,r){t+=e._renderMediaQuery(r,e._renderCache(n))}),t}},{key:"subscribe",value:function(e){var t=this;return this.listeners.add(e),{unsubscribe:function(){return t.listeners.delete(e)}}}},{key:"_emitChange",value:function(){var e=this.renderToString();this.listeners.forEach(function(t){return t(e)})}},{key:"_init",value:function(){this.cache=new Map,this.mediaCache=new Map,this.ids=new Map,this._counter=-1}},{key:"_renderSelectorVariation",value:function(e,t,n){var r=this;this.cache.has(e)||(this.ids.set(e,++this._counter),this.cache.set(e,new Map),e.mediaStrings.forEach(function(t){r.mediaCache.has(t)||r.mediaCache.set(t,new Map),r.mediaCache.get(t).set(e,new Map)}));var o=this.cache.get(e),i=this._generatePropsReference(t);if(!o.has(i)){var u=e.render(t,n),a=u.styles,s=u.mediaStyles;o.set(i,a),s.forEach(function(t,n){r.mediaCache.get(n).get(e).set(i,t)}),this._emitChange()}return this._renderClassName(this.ids.get(e),i)}},{key:"_generatePropsReference",value:function(e){return(0,c.default)((0,l.default)(e))}},{key:"_renderClassName",value:function(e,t){return"c"+e+"-"+t}},{key:"_renderSelector",value:function(e,t){return"."+e+"{"+(0,a.default)(t)+"}"}},{key:"_renderMediaQuery",value:function(e,t){return"@media("+e+"){"+t+"}"}},{key:"_renderCache",value:function(e){var t=this,n="";return e.forEach(function(e,r){var o=t.ids.get(r);e.forEach(function(e,r){var i=t._renderClassName(o,r);n+=t._renderSelector(i,e)})}),n}}]),e}();t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e){return e.replace(/([a-z]|^)([A-Z])/g,function(e,t,n){return t+"-"+n.toLowerCase()}).replace("ms-","-ms-")}function r(e){return Object.keys(e).reduce(function(t,r){return t.length>0&&(t+=";"),t+=n(r)+":"+e[r]},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){var t=0,n=0,r=void 0,o=e.length;if(0===o)return"s";for(;o>n;++n)r=e.charCodeAt(n),t=(t<<5)-t+r,t|=0;return t.toString(36)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return void 0===e?"":Object.keys(e).sort().reduce(function(t,n){return t+=n+e[n]},"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default}])});