!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.FelaBeautifier=n()}(this,function(){"use strict";function e(e,n){return n={exports:{}},e(n,n.exports),n.exports}var n={};n["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},n.classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},n.createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),n["extends"]=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};var t=e(function(e,t){!function(){function o(e,n){function t(e){return" "===e||"\n"===e||"	"===e||"\r"===e||"\f"===e}function o(e){return"'"===e||'"'===e}function r(e){return a>="a"&&"z">=a||a>="A"&&"Z">=a||a>="0"&&"9">=a||"-_*.:#[]".indexOf(e)>=0}function i(){var e;for(e=y;e>0;e-=1)x+=u.indent}function f(){x=S(x),v?x+=" {":(x+="\n",i(),x+="{"),"\n"!==s&&(x+="\n"),y+=1}function c(){var e;y-=1,x=S(x),x.length>0&&R&&(e=x.charAt(x.length-1),";"!==e&&"{"!==e&&(x+=";")),x+="\n",i(),x+="}",l.push(x),x=""}var u,l,a,s,p,h,d,y,g,b,S,A=0,m=e.length,x="",v=!0,R=!1;for(u=arguments.length>1?n:{},"undefined"==typeof u.indent&&(u.indent="    "),"string"==typeof u.openbrace&&(v="end-of-line"===u.openbrace),"boolean"==typeof u.autosemicolon&&(R=u.autosemicolon),S=String.prototype.trimRight?function(e){return e.trimRight()}:function(e){return e.replace(/\s+$/,"")},d={Start:0,AtRule:1,Block:2,Selector:3,Ruleset:4,Property:5,Separator:6,Expression:7,URL:8},y=0,h=d.Start,b=!1,l=[],e=e.replace(/\r\n/g,"\n");m>A;)if(a=e.charAt(A),s=e.charAt(A+1),A+=1,o(g))x+=a,a===g&&(g=null),"\\"===a&&s===g&&(x+=s,A+=1);else if(o(a))x+=a,g=a;else if(b)x+=a,"*"===a&&"/"===s&&(b=!1,x+=s,A+=1);else if("/"!==a||"*"!==s){if(h===d.Start){if(0===l.length&&t(a)&&0===x.length)continue;if(" ">=a||a.charCodeAt(0)>=128){h=d.Start,x+=a;continue}if(r(a)||"@"===a){if(p=S(x),0===p.length)l.length>0&&(x="\n\n");else if("}"===p.charAt(p.length-1)||";"===p.charAt(p.length-1))x=p+"\n\n";else for(;;){if(s=x.charAt(x.length-1)," "!==s&&9!==s.charCodeAt(0))break;x=x.substr(0,x.length-1)}x+=a,h="@"===a?d.AtRule:d.Selector;continue}}if(h!==d.AtRule)if(h!==d.Block)if(h!==d.Selector)if(h!==d.Ruleset)if(h!==d.Property)if(h!==d.Separator)if(h!==d.Expression)h===d.URL&&")"===a&&x.charAt(x.length-1!=="\\")?(x+=a,h=d.Expression):x+=a;else{if("}"===a){c(),h=d.Start,y>0&&(h=d.Block);continue}if(";"===a){x=S(x),x+=";\n",h=d.Ruleset;continue}if(x+=a,"("===a&&"l"===x.charAt(x.length-2)&&"r"===x.charAt(x.length-3)&&"u"===x.charAt(x.length-4)){h=d.URL;continue}}else{if(!t(a)){x+=a,h=d.Expression;continue}o(s)&&(h=d.Expression)}else{if(":"===a){x=S(x),x+=": ",h=d.Expression,t(s)&&(h=d.Separator);continue}if("}"===a){c(),h=d.Start,y>0&&(h=d.Block);continue}x+=a}else{if("}"===a){c(),h=d.Start,y>0&&(h=d.Block);continue}if("\n"===a){x=S(x),x+="\n";continue}if(!t(a)){x=S(x),x+="\n",i(),x+=a,h=d.Property;continue}x+=a}else{if("{"===a){f(),h=d.Ruleset;continue}if("}"===a){c(),h=d.Start;continue}x+=a}else{if(r(a)){if(p=S(x),0===p.length)l.length>0&&(x="\n\n");else if("}"===p.charAt(p.length-1))x=p+"\n\n";else for(;;){if(s=x.charAt(x.length-1)," "!==s&&9!==s.charCodeAt(0))break;x=x.substr(0,x.length-1)}i(),x+=a,h=d.Selector;continue}if("}"===a){c(),h=d.Start;continue}x+=a}else{if(";"===a){x+=a,h=d.Start;continue}if("{"===a){p=S(x),f(),h="@font-face"===p?d.Ruleset:d.Block;continue}x+=a}}else b=!0,x+=a,x+=s,A+=1;return x=l.join("")+x}"undefined"!=typeof t?e.exports=t=o:"object"===("undefined"==typeof window?"undefined":n["typeof"](window))&&(window.cssbeautify=o)}()}),o=t&&"object"==typeof t&&"default"in t?t["default"]:t,r={indent:"  ",openbrace:"end-of-line",autosemicolon:!1},i=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(t){if(t.hasOwnProperty("mountNode"))return t.subscribe(function(i){t.mountNode.textContent=o(i,n["extends"]({},r,e))}),t;var i=t.renderToString.bind(t);return t.renderToString=function(){var t=i();return o(t,n["extends"]({},r,e))},t}};return i});