!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.InfernoFela=t()}(this,function(){"use strict";function e(e){return!a(e.prototype)&&!a(e.prototype.render)}function t(e){var t="undefined"==typeof e?"undefined":re.typeof(e);return"string"===t||"number"===t}function n(e){return a(e)||l(e)}function r(e){return l(e)||e===!1||u(e)||a(e)}function o(e){return"string"==typeof e}function i(e){return"number"==typeof e}function l(e){return null===e}function u(e){return e===!0}function a(e){return void 0===e}function s(e,t){return t.key=e,t}function c(e,t){return i(e)&&(e="."+e),l(t.key)||"."===t.key[0]?s(e,t):t}function f(e,t){return t.key=e+t.key,t}function d(e,n,o,i){for(var u=e.length;o<u;o++){var a=e[o],c=i+"."+o;r(a)||(ie(a)?d(a,n,0,c):(t(a)?a=k(a):(_(a)&&a.dom||a.key&&"."===a.key[0])&&(a=b(a)),a=l(a.key)||"."===a.key[0]?s(c,a):f(i,a),n.push(a)))}}function p(e){var n=void 0;e.$?e=e.slice():e.$=!0;for(var o=0,i=e.length;o<i;o++){var u=e[o];if(r(u)||ie(u)){var a=(n||e).slice(0,o);return d(e,a,o,""),a}t(u)?(n||(n=e.slice(0,o)),n.push(c(o,k(u)))):_(u)&&u.dom||l(u.key)&&!(64&u.flags)?(n||(n=e.slice(0,o)),n.push(c(o,b(u)))):n&&n.push(c(o,b(u)))}return n||e}function h(e){return ie(e)?p(e):_(e)&&e.dom?b(e):e}function y(e,t,r){28&e.flags||!n(r)||n(t.children)||(e.children=t.children),t.ref&&(e.ref=t.ref,delete t.ref),t.events&&(e.events=t.events),n(t.key)||(e.key=t.key,delete t.key)}function v(e,t){"svg"===e?t.flags=128:"input"===e?t.flags=512:"select"===e?t.flags=2048:"textarea"===e?t.flags=1024:"media"===e?t.flags=256:t.flags=2}function m(e){var t=e.props,n=!l(t),i=e.type,u=e.children;o(i)&&28&e.flags&&(v(i,e),n&&t.children&&(e.children=t.children,u=t.children)),n&&y(e,t,u),r(u)||(e.children=h(u)),n&&!r(t.children)&&(t.children=h(t.children))}function g(t,r,o,i,l,u,s,c){if(16&t&&(t=e(r)?4:8),28&t){var f=r.defaultProps;if(!n(f)){o=o||{};for(var d in f)a(o[d])&&(o[d]=f[d])}}var p={children:a(i)?null:i,dom:null,events:l||null,flags:t,key:a(u)?null:u,props:o||null,ref:s||null,type:r};return c||m(p),le.createVNode&&le.createVNode(p),p}function b(e,t){var o=arguments.length-2,i=void 0;if(o>0){if(t||(t={}),1===o)i=arguments[2];else for(i=[];o-- >0;)i[o]=arguments[o+2];a(t.children)?t.children=i:ie(i)?ie(t.children)?t.children=t.children.concat(i):t.children=[t.children].concat(i):ie(t.children)?t.children.push(i):(t.children=[t.children],t.children.push(i))}var l=void 0;if(ie(e)){for(var u=[],s=0,c=e.length;s<c;s++)u.push(b(e[s]));l=u}else{var f=e.flags,d=e.events||t&&t.events||null,p=n(e.key)?t?t.key:null:e.key,h=e.ref||(t?t.ref:null);if(28&f){l=g(f,e.type,Object.assign({},e.props,t),null,d,p,h,!0);var y=l.props;if(y){var v=y.children;if(v)if(ie(v))for(var m=0,C=v.length;m<C;m++){var S=v[m];!r(S)&&_(S)&&(y.children[m]=b(S))}else _(v)&&(y.children=b(v))}l.children=null}else 3970&f?(i=t&&t.children||e.children,l=g(f,e.type,Object.assign({},e.props,t),i,d,p,h,!i)):1&f&&(l=k(e.children))}return l}function k(e){return g(1,null,null,e,null,null,null,!0)}function _(e){return!!e.flags}function C(e,t,n){for(var r=e.split(","),o=0,i=r.length;o<i;o++)t[r[o]]=n}function S(e){var t="undefined"==typeof e?"undefined":re.typeof(e);return"string"===t||"number"===t}function x(e){return P(e)||j(e)}function w(e){return j(e)||e===!1||R(e)||P(e)}function O(e){return"function"==typeof e}function j(e){return null===e}function R(e){return e===!0}function P(e){return void 0===e}function A(e){throw e||(e=ge),new Error("Inferno Error: "+e)}function N(){this.listeners=[]}function U(e,t){if(28&e.flags){var n=e.parentVNode;n&&(n.dom=t,U(n,t))}}function M(){return g(4096)}function I(e){return g(1,null,null,e)}function D(e,t,n){var r=_e.get(e);r||(r=[],_e.set(e,r),Promise.resolve().then(function(){_e.delete(e),W(e,t,function(){for(var e=0,t=r.length;e<t;e++)r[e]()})})),n&&r.push(n)}function T(e,t,n,r){O(t)&&(t=t(e.state,e.props,e.context));for(var o in t)e._pendingState[o]=t[o];e._pendingSetState||!be||r&&e._blockRender?(Object.assign(e.state,e._pendingState),e._pendingState={}):r||e._blockRender?(e._pendingSetState=!0,W(e,!1,n)):D(e,!1,n)}function W(e,t,n){if(e._deferSetState&&!t||e._blockRender||e._unmounted)x(n)||n();else{e._pendingSetState=!1;var r=e._pendingState,o=e.state,i=Object.assign({},o,r),l=e.props,u=e.context;e._pendingState={};var a=e._updateComponent(o,i,l,l,u,t,!0),s=!0;w(a)?a=M():a===me?(a=e._lastInput,s=!1):S(a)?a=I(a):ke(a)&&A();var c=e._lastInput,f=e._vNode,d=c.dom&&c.dom.parentNode||(c.dom=f.dom);if(e._lastInput=a,s){var p=e._lifecycle;p?p.listeners=[]:p=new N,e._lifecycle=p;var h=e.getChildContext();h=x(h)?e._childContext:Object.assign({},u,e._childContext,h),e._patch(c,a,d,p,h,e._isSVG,!1),p.trigger(),e.componentDidUpdate(l,o),le.afterUpdate&&le.afterUpdate(f)}var y=f.dom=a.dom,v=e._componentToDOMNodeMap;v&&v.set(e,a.dom),U(f,y),x(n)||n()}}function E(e,t){return function(n){if(n.type!==Se||n.media)t.textContent=e.renderToString();else try{t.sheet.insertRule(n.selector+"{"+n.declaration+"}",t.sheet.cssRules.length)}catch(e){}}}function F(e){return e&&1===e.nodeType}function V(e,t){if(!F(t))throw new Error("You need to specify a valid element node (nodeType = 1) to render into.");t.setAttribute("data-fela-stylesheet","");var n=E(e,t);e.subscribe(n);var r=e.renderToString();t.textContent!==r&&(t.textContent=r)}function G(e){return!X(e.prototype)&&!X(e.prototype.render)}function z(e){return X(e)||q(e)}function K(e){return q(e)||e===!1||H(e)||X(e)}function $(e){return"o"===e[0]&&"n"===e[1]&&e.length>3}function L(e){return"string"==typeof e}function q(e){return null===e}function H(e){return e===!0}function X(e){return void 0===e}function Y(e){return"object"===("undefined"==typeof e?"undefined":re.typeof(e))}function B(e,t){if(K(e)||Y(e))throw new Error("Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.");for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=r,l=null,u=null,a=null,s=0;if(r&&(1===r.length?i=r[0]:0===r.length&&(i=void 0)),L(e)){switch(e){case"svg":s=128;break;case"input":s=512;break;case"textarea":s=1024;break;case"select":s=2048;break;default:s=2}if(!z(t))for(var c=Object.keys(t),f=0,d=c.length;f<d;f++){var p=c[f];"key"===p?(u=t.key,delete t.key):"children"===p&&X(i)?i=t.children:"ref"===p?l=t.ref:$(p)&&(a||(a={}),a[p]=t[p],delete t[p])}}else if(s=G(e)?4:8,X(i)||(t||(t={}),t.children=i,i=null),!z(t))for(var h=Object.keys(t),y=0,v=h.length;y<v;y++){var m=h[y];we[m]?(l||(l={}),l[m]=t[m]):"key"===m&&(u=t.key,delete t.key)}return g(s,e,t,i,a,u,l)}function J(e){return function(t){var n,r;return r=n=function(n){function r(){return re.classCallCheck(this,r),re.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return re.inherits(r,n),re.createClass(r,[{key:"render",value:function(){var n=this.context,r=n.renderer,o=n.theme,i=e(re.extends({},this.props,{theme:o||{}}))(r);return B(t,re.extends({},this.props,{styles:i}))}}]),r}(Ce),n.displayName=Oe(t),r}}function Q(e,t){return e.reduce(function(e,n){return e[n]=t[n],e},{})}function Z(e,t){return e instanceof Function?Object.keys(e(t)):e}function ee(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n.length;o<i;++o){var l=n[o];for(var u in l){var a=l[u],s=e[u];if(s instanceof Object){if(Array.isArray(s)){Array.isArray(a)?e[u]=[].concat(re.toConsumableArray(s),re.toConsumableArray(a)):e[u]=[].concat(re.toConsumableArray(s),[a]);continue}if(a instanceof Object&&!Array.isArray(a)){e[u]=ee({},s,a);continue}}e[u]=a}}return e}function te(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n={},r=0,o=t.length;r<o;++r)ee(n,t[r](e));return n}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=function(r,o){var i=o.renderer,l=o.theme,u=r.children,a=r._felaRule,s=r.passThrough,c=void 0===s?[]:s,f=re.objectWithoutProperties(r,["children","_felaRule","passThrough"]),d=a?te(e,a):e,p=[].concat(re.toConsumableArray(Z(n,f)),re.toConsumableArray(Z(c,f)));if(t._isFelaComponent)return B(t,re.extends({_felaRule:d,passThrough:p},f),u);var h=Q(p,f);h.style=f.style,h.id=f.id,h.ref=f.innerRef;var y=f.is||t,v=f.className?f.className+" ":"";return f.theme=l||{},h.className=v+i.renderRule(d,f),B(y,h,u)};return r.displayName=e.name?e.name:"FelaComponent",r._isFelaComponent=!0,r}var re={};re.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},re.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),re.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},re.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},re.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},re.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},re.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var oe=("undefined"!=typeof window?window:"undefined"!=typeof global?global:this,"undefined"!=typeof window&&window.document),ie=Array.isArray,le={recyclingEnabled:!1,findDOMNodeEnabled:!1,roots:null,createVNode:null,beforeRender:null,afterRender:null,afterMount:null,afterUpdate:null,beforeUnmount:null},ue="http://www.w3.org/1999/xlink",ae="http://www.w3.org/XML/1998/namespace",se={},ce={},fe={},de={},pe={},he={};C("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",fe,ue),C("xml:base,xml:lang,xml:space",fe,ae),C("volume,defaultChecked",se,!0),C("children,childrenType,defaultValue,ref,key,selected,checked,multiple",pe,!0),C("onClick,onMouseDown,onMouseUp,onMouseMove,onSubmit,onDblClick,onKeyDown,onKeyUp,onKeyPress",he,!0),C("muted,scoped,loop,open,checked,default,capture,disabled,readOnly,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate,hidden",ce,!0),C("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",de,!0);var ye=(oe&&!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),{}),ve=[];le.roots=ve;var me=(oe?document.body:null,"$NO_OP"),ge="a runtime error occured! Use Inferno in development environment to find the error.",be="undefined"!=typeof window&&window.document,ke=Array.isArray;N.prototype.addListener=function(e){this.listeners.push(e)},N.prototype.trigger=function(){for(var e=0,t=this.listeners.length;e<t;e++)this.listeners[e]()};var _e=new Map,Ce=function(){function e(t,n){re.classCallCheck(this,e),this.state={},this.refs={},this._blockRender=!1,this._ignoreSetState=!1,this._blockSetState=!1,this._deferSetState=!1,this._pendingSetState=!1,this._syncSetState=!0,this._pendingState={},this._lastInput=null,this._vNode=null,this._unmounted=!0,this._lifecycle=null,this._childContext=null,this._patch=null,this._isSVG=!1,this._componentToDOMNodeMap=null,this.props=t||ye,this.context=n||ye}return re.createClass(e,[{key:"render",value:function(e,t,n){}},{key:"forceUpdate",value:function(e){this._unmounted||be&&W(this,!0,e)}},{key:"setState",value:function(e,t){this._unmounted||(this._blockSetState?A():this._ignoreSetState||T(this,e,t,this._syncSetState))}},{key:"setStateSync",value:function(e){this._unmounted||(this._blockSetState?A():this._ignoreSetState||T(this,e,null,!0))}},{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,n){}},{key:"shouldComponentUpdate",value:function(e,t,n){return!0}},{key:"componentWillReceiveProps",value:function(e,t){}},{key:"componentWillUpdate",value:function(e,t,n){}},{key:"getChildContext",value:function(){}},{key:"_updateComponent",value:function(e,t,n,r,o,i,l){if(this._unmounted===!0&&A(),n!==r||r===ye||e!==t||i){n===r&&r!==ye||(l||(this._blockRender=!0,this.componentWillReceiveProps(r,o),this._blockRender=!1),this._pendingSetState&&(t=Object.assign({},t,this._pendingState),this._pendingSetState=!1,this._pendingState={}));var u=this.shouldComponentUpdate(r,t,o);if(u||i){this._blockSetState=!0,this.componentWillUpdate(r,t,o),this._blockSetState=!1,this.props=r,this.state=t,this.context=o,le.beforeRender&&le.beforeRender(this);var a=this.render(r,t,o);return le.afterRender&&le.afterRender(this),a}this.props=r,this.state=t,this.context=o}return me}}]),e}(),Se=1,xe=function(e){function t(){return re.classCallCheck(this,t),re.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return re.inherits(t,e),re.createClass(t,[{key:"getChildContext",value:function(){return{renderer:this.props.renderer}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mountNode,n=e.renderer;t&&V(n,t)}},{key:"render",value:function(){return this.props.children}}]),t}(Ce),we={onComponentWillMount:!0,onComponentDidMount:!0,onComponentWillUnmount:!0,onComponentShouldUpdate:!0,onComponentWillUpdate:!0,onComponentDidUpdate:!0},Oe=function(e){var t=e.displayName||e.name;return t?"Fela"+t:"ConnectedFelaComponent"},je=function(e){function t(){return re.classCallCheck(this,t),re.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return re.inherits(t,e),re.createClass(t,[{key:"getChildContext",value:function(){var e=this.props,t=e.overwrite,n=e.theme,r=this.context.theme;return{theme:re.extends({},t?{}:r||{},n)}}},{key:"render",value:function(){return this.props.children}}]),t}(Ce);je.defaultProps={overwrite:!1};var Re={Provider:xe,connect:J,createComponent:ne,ThemeProvider:je};return Re});