!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):e.ReactFela=t(e.React)}(this,function(e){"use strict";function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e,t){return function(n){if(n.type!==C||n.media)t.textContent=e.renderToString();else try{t.sheet.insertRule(n.selector+"{"+n.declaration+"}",t.sheet.cssRules.length)}catch(e){}}}function r(e){return e&&1===e.nodeType}function o(e,t){if(!r(t))throw new Error("You need to specify a valid element node (nodeType = 1) to render into.");t.setAttribute("data-fela-stylesheet","");var o=n(e,t);e.subscribe(o);var i=e.renderToString();t.textContent!==i&&(t.textContent=i)}function i(e){var t=e.displayName||e.name;return t?"Fela"+t:"ConnectedFelaComponent"}function u(e){return function(t){var n=function(n,r){var o=r.renderer;return B(16,q,{channel:"felaTheme",children:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(16,t,d.extends({},n,{styles:e(d.extends({},n,{theme:r}))(o)}))}})};return n.displayName=i(t),n.contextTypes={renderer:P.object},n}}function a(e,t,n){for(var r=0,o=e.length;r<o;++r)n=t(n,e[r]);return n}function f(e,t){return a(e,function(e,n){return e[n]=t[n],e},{})}function c(e,t){return"function"==typeof e?Object.keys(e(t)):e}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return a(t,function(t,n){return D(t,n(e))},{})}}function l(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=function(t,i){var u=i.renderer,a=i.theme,l=t.children,p=t._felaRule,y=t.passThrough,h=void 0===y?[]:y,b=d.objectWithoutProperties(t,["children","_felaRule","passThrough"]);if(!u)throw new Error("createComponent() can't render styles without the renderer in the context. Missing react-fela's <Provider /> at the app root?");var v=p?s(n,p):n,m=[].concat(d.toConsumableArray(c(o,b)),d.toConsumableArray(c(h,b)));if(r._isFelaComponent)return e(r,d.extends({_felaRule:v,passThrough:m},b),l);var g=f(m,b);if(b.theme=a||{},u.isNativeRenderer){var j=u.renderRule(v,b);g.style=b.style?[b.style,j]:j}else{g.style=b.style;var w=b.className?b.className+" ":"";g.className=w+u.renderRule(v,b)}g.id=b.id,g.ref=b.innerRef;var x=b.is||r;return e(x,g,l)};return t&&(i.contextTypes=t),i.displayName=n.name?n.name:"FelaComponent",i._isFelaComponent=!0,i}}var p="default"in e?e.default:e,d={};d.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},d.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d.objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},d.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var y=t(function(e){function t(e,t,r,o,i,u,a,f){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,o,i,u,a,f],l=0;c=new Error(t.replace(/%s/g,function(){return s[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var n=function(e){};e.exports=t}),h=y&&"object"==typeof y&&"default"in y?y.default:y,b=t(function(e){function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n}),v=b&&"object"==typeof b&&"default"in b?b.default:b,m=t(function(e){var t=v,n=h;e.exports=function(){function e(){n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r};return o.checkPropTypes=t,o.PropTypes=o,o}}),g=m&&"object"==typeof m&&"default"in m?m.default:m,j=t(function(e){var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t}),w=j&&"object"==typeof j&&"default"in j?j.default:j,x=t(function(e){var t=v,n=t;e.exports=n}),T=(x&&"object"==typeof x&&"default"in x?x.default:x,t(function(e){function t(e,t,n,r,o){}e.exports=t})),O=T&&"object"==typeof T&&"default"in T?T.default:T,_=(t(function(e){var t=v,n=h,r=w,o=O;e.exports=function(e,i){function u(e){var t=e&&(P&&e[P]||e[C]);if("function"==typeof t)return t}function a(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function f(e){this.message=e,this.stack=""}function c(e){function t(t,o,u,a,c,s,l){return a=a||R,s=s||u,l!==r&&i&&n(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),null==o[u]?t?new f(null===o[u]?"The "+c+" `"+s+"` is marked as required "+("in `"+a+"`, but its value is `null`."):"The "+c+" `"+s+"` is marked as required in "+("`"+a+"`, but its value is `undefined`.")):null:e(o,u,a,c,s)}var o=t.bind(null,!1);return o.isRequired=t.bind(null,!0),o}function s(e){function t(t,n,r,o,i,u){var a=t[n],c=T(a);if(c!==e){var s=O(a);return new f("Invalid "+o+" `"+i+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function l(){return c(t.thatReturnsNull)}function p(e){function t(t,n,o,i,u){if("function"!=typeof e)return new f("Property `"+u+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var c=T(a);return new f("Invalid "+i+" `"+u+"` of type "+("`"+c+"` supplied to `"+o+"`, expected an array."))}for(var s=0;s<a.length;s++){var l=e(a,s,o,i,u+"["+s+"]",r);if(l instanceof Error)return l}return null}return c(t)}function y(){function t(t,n,r,o,i){var u=t[n];if(!e(u)){var a=T(u);return new f("Invalid "+o+" `"+i+"` of type "+("`"+a+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return c(t)}function h(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var u=e.name||R,a=_(t[n]);return new f("Invalid "+o+" `"+i+"` of type "+("`"+a+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return c(t)}function b(e){function n(t,n,r,o,i){for(var u=t[n],c=0;c<e.length;c++)if(a(u,e[c]))return null;var s=JSON.stringify(e);return new f("Invalid "+o+" `"+i+"` of value `"+u+"` "+("supplied to `"+r+"`, expected one of "+s+"."))}return Array.isArray(e)?c(n):t.thatReturnsNull}function v(e){function t(t,n,o,i,u){if("function"!=typeof e)return new f("Property `"+u+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var a=t[n],c=T(a);if("object"!==c)return new f("Invalid "+i+" `"+u+"` of type "+("`"+c+"` supplied to `"+o+"`, expected an object."));for(var s in a)if(a.hasOwnProperty(s)){var l=e(a,s,o,i,u+"."+s,r);if(l instanceof Error)return l}return null}return c(t)}function m(e){function n(t,n,o,i,u){for(var a=0;a<e.length;a++){var c=e[a];if(null==c(t,n,o,i,u,r))return null}return new f("Invalid "+i+" `"+u+"` supplied to "+("`"+o+"`."))}return Array.isArray(e)?c(n):t.thatReturnsNull}function g(){function e(e,t,n,r,o){return w(e[t])?null:new f("Invalid "+r+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function j(e){function t(t,n,o,i,u){var a=t[n],c=T(a);if("object"!==c)return new f("Invalid "+i+" `"+u+"` of type `"+c+"` "+("supplied to `"+o+"`, expected `object`."));for(var s in e){var l=e[s];if(l){var p=l(a,s,o,i,u+"."+s,r);if(p)return p}}return null}return c(t)}function w(t){switch("undefined"==typeof t?"undefined":d.typeof(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!w(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!w(i[1]))return!1}return!0;default:return!1}}function x(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t="undefined"==typeof e?"undefined":d.typeof(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":x(t,e)?"symbol":t}function O(e){var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){return e.constructor&&e.constructor.name?e.constructor.name:R}var P="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",R="<<anonymous>>",A={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:l(),arrayOf:p,element:y(),instanceOf:h,node:g(),objectOf:v,oneOf:b,oneOfType:m,shape:j};return f.prototype=Error.prototype,A.checkPropTypes=o,A.PropTypes=A,A}}),t(function(e){e.exports=g()})),P=_&&"object"==typeof _&&"default"in _?_.default:_,C=1,R=function(t){function n(){return d.classCallCheck(this,n),d.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return d.inherits(n,t),d.createClass(n,[{key:"getChildContext",value:function(){return{renderer:this.props.renderer}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mountNode,n=e.renderer;t&&o(n,t)}},{key:"render",value:function(){return e.Children.only(this.props.children)}}]),n}(e.Component);R.propTypes={renderer:P.object.isRequired},R.childContextTypes={renderer:P.object};var A=t(function(e){var t="production",n=function(e,n,r,o,i,u,a,f){if("production"!==t&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[r,o,i,u,a,f],l=0;c=new Error(n.replace(/%s/g,function(){return s[l++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=n}),S=A&&"object"==typeof A&&"default"in A?A.default:A,E=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":d.typeof(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":d.typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=S,a=n(u),f=p,c=n(f),s=function(e){function t(){var n,i,u;r(this,t);for(var a=arguments.length,f=Array(a),c=0;c<a;c++)f[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(f))),i.state={value:null},u=n,o(i,u)}return i(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.props.channel;if(this.context.broadcasts){var n=this.context.broadcasts[t];"function"!=typeof n?(0,a.default)(!1):void 0,this.unsubscribe=n(function(t){e.setState({value:t})})}},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){return this.props.children(this.state.value)},t}(c.default.Component);s.contextTypes={broadcasts:c.default.PropTypes.object},t.default=s}),k=E&&"object"==typeof E&&"default"in E?E.default:E,N=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":d.typeof(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":d.typeof(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=S,f=n(a),c=p,s=n(c),l=function(e){var t=[],n=e;return{publish:function(e){n=e,t.forEach(function(e){return e(n)})},subscribe:function(e){return t.push(e),e(n),function(){return t=t.filter(function(t){return t!==e})}}}},y=function(e){function t(){var n,i,u;r(this,t);for(var a=arguments.length,f=Array(a),c=0;c<a;c++)f[c]=arguments[c];return n=i=o(this,e.call.apply(e,[this].concat(f))),i.broadcast=l(i.props.value),u=n,o(i,u)}return i(t,e),t.prototype.getBroadcastsContext=function(){var e,t=this.props.channel,n=this.context.broadcasts;return u({},n,(e={},e[t]=this.broadcast.subscribe,e))},t.prototype.getChildContext=function(){return{broadcasts:this.getBroadcastsContext()}},t.prototype.componentWillReceiveProps=function(e){this.props.channel!==e.channel?(0,f.default)(!1):void 0,this.props.value!==e.value&&this.broadcast.publish(e.value)},t.prototype.render=function(){return s.default.Children.only(this.props.children)},t}(s.default.Component);y.contextTypes={broadcasts:c.PropTypes.object},y.childContextTypes={broadcasts:c.PropTypes.object.isRequired},t.default=y}),I=N&&"object"==typeof N&&"default"in N?N.default:N,M=t(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Subscriber=t.Broadcast=void 0;var r=I,o=n(r),i=k,u=n(i);t.Broadcast=o.default,t.Subscriber=u.default}),q=M.Subscriber,F=M.Broadcast,B=Inferno.createVNode,W=t(function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){for(var t=arguments.length,i=Array(t>1?t-1:0),u=1;u<t;u++)i[u-1]=arguments[u];for(var a=0,f=i.length;a<f;++a){var c=i[a];for(var s in c){var l=c[s],p=e[s];if("object"===("undefined"==typeof p?"undefined":o(p))){if(Array.isArray(p)){Array.isArray(l)?e[s]=[].concat(n(p),n(l)):e[s]=[].concat(n(p),[l]);continue}if("object"===("undefined"==typeof l?"undefined":o(l))&&!Array.isArray(l)){e[s]=r({},p,l);continue}}e[s]=l}}return e}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===d.typeof(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":d.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":d.typeof(e)};t.default=r,e.exports=t.default}),D=W&&"object"==typeof W&&"default"in W?W.default:W,U=l(e.createElement,{renderer:P.object,theme:P.object}),V=Inferno.createVNode,L=function(t,n){var r=t.overwrite,o=void 0!==r&&r,i=t.theme,u=t.children,a=n.theme;return V(16,F,{channel:"felaTheme",value:d.extends({},o?{}:a,i),children:e.Children.only(u)})};L.defaultProps={overwrite:!1},L.contextTypes={theme:P.object};var Y={Provider:R,connect:u,createComponent:U,ThemeProvider:L};return Y});